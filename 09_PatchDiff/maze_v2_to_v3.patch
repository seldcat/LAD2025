--- maze_v2.c	2025-12-16 00:29:52
+++ maze_v3.c	2025-12-16 00:31:58
@@ -8,46 +8,57 @@
 static char **maze;
 static int *used;
 
+/* новые параметры версии v3 */
+static char PASS = '.';
+static char WALL = '#';
+
 static void init_maze(void) {
     for (int y = 0; y < H; y++)
         for (int x = 0; x < W; x++)
-            maze[y][x] = '#';
+            maze[y][x] = WALL;
 
     for (int y = 0; y < N; y++)
         for (int x = 0; x < N; x++)
-            maze[2*y+1][2*x+1] = '.';
+            maze[2*y+1][2*x+1] = PASS;
 }
 
 static void dfs(int y, int x) {
-    static int dy[4] = {1,-1,0,0};
-    static int dx[4] = {0,0,1,-1};
+    static int dy[4] = { 1, -1,  0,  0 };
+    static int dx[4] = { 0,  0,  1, -1 };
 
     used[y*N + x] = 1;
 
-    int order[4] = {0,1,2,3};
+    int order[4] = {0, 1, 2, 3};
     for (int i = 3; i > 0; i--) {
-        int j = rand() % (i+1);
-        int t = order[i]; order[i] = order[j]; order[j] = t;
+        int j = rand() % (i + 1);
+        int t = order[i];
+        order[i] = order[j];
+        order[j] = t;
     }
 
     for (int i = 0; i < 4; i++) {
         int ny = y + dy[order[i]];
         int nx = x + dx[order[i]];
-        if (ny < 0 || nx < 0 || ny >= N || nx >= N) continue;
-        if (used[ny*N + nx]) continue;
+        if (ny < 0 || nx < 0 || ny >= N || nx >= N)
+            continue;
+        if (used[ny*N + nx])
+            continue;
 
-        maze[y + ny + 1][x + nx + 1] = '.';
+        maze[y + ny + 1][x + nx + 1] = PASS;
         dfs(ny, nx);
     }
 }
 
 int main(int argc, char **argv) {
-    if (argc != 2) {
-        fprintf(stderr, "usage: %s SIZE\n", argv[0]);
+    if (argc != 3) {
+        fprintf(stderr, "usage: %s PW SIZE\n", argv[0]);
         return 1;
     }
 
-    N = atoi(argv[1]);
+    PASS = argv[1][0];
+    WALL = argv[1][1];
+    N = atoi(argv[2]);
+
     H = 2*N + 1;
     W = 2*N + 1;
 
